var App={win:$(window),doc:$(document),max_mobile_width:1024,is_mobile:detectmob()};function detectmob(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function debounce(n,t,r){var s;return function(){var e=this,i=arguments,o=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||n.apply(e,i)},t),o&&n.apply(e,i)}}App.Sliders=function(){if(void 0!==$.fn.slick){function e(){this.render()}var i;e.prototype={el:{main_slider_selector:".main-hotels__slider",main_slide_selector:".main-hotels__slide",service_slider_selector:".service-cover-slider",simple_slider_selector:".simple-slider",banner_slider_selector:".banner-slider",lightbox_selector:"a.lightbox"},render:function(){i=this,$(i.el.main_slider_selector).length&&(i.mainSlideHeight(),i.mainSliderInit()),$(i.el.service_slider_selector).length&&i.ServiceSliderInit(),$(i.el.simple_slider_selector).length&&i.SimpleSliderInit(),$(i.el.banner_slider_selector).length&&i.BannerSliderInit(),$(i.el.lightbox_selector).length&&i.LightboxInit()},mainSliderInit:function(){$(i.el.main_slider_selector).slick({dots:!0,infinite:!0,speed:300,slidesToShow:2,responsive:[{breakpoint:768,settings:{slidesToShow:1}}]});var e=debounce(function(){i.mainSlideHeight()},250);App.win.resize(e)},mainSlideHeight:function(){$(i.el.main_slide_selector).height($(window).height())},ServiceSliderInit:function(){$(i.el.service_slider_selector).slick({infinite:!0,speed:300,slidesToShow:1,dots:!0,autoplay:!0,autoplaySpeed:6e3,adaptiveHeight:!0})},SimpleSliderInit:function(){$(i.el.simple_slider_selector).slick({infinite:!0,speed:300,slidesToShow:1,dots:!0,autoplay:!0,autoplaySpeed:6e3,adaptiveHeight:!0})},BannerSliderInit:function(){$(i.el.banner_slider_selector).slick({infinite:!0,speed:300,touchThreshold:10,swipeToSlide:!0,slidesToShow:5,slidesToScroll:1,centerMode:!0,autoplay:!0,autoplaySpeed:6e3,centerPadding:"20px",responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:568,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"5px",centerMode:!1}}]})},LightboxInit:function(){var e="";e="en"==$("html").attr("lang")?"Image not found, next image will be loaded":"Изображение не найдено, будет загружено следующее изображение";$(i.el.lightbox_selector).simpleLightbox({alertErrorMessage:e,closeText:"&#10005"})}},new e}else console.info("required slick(.min).js")},App.Scrolling=function(){function e(){this.render()}var i,o=$(window).scrollTop();e.prototype={el:{index_cover_selector:".index-cover",index_cover_scroll_selector:".index-cover__scroll-down",index_cover_slider_selector:".index-cover-slider"},render:function(){if((i=this).scrollBody(),i.scrollHeader(),$(i.el.index_cover_selector).length){$("body").addClass("index--page"),i.indexCoverScroll(),i.indexCoverHeight();var e=debounce(function(){i.indexCoverHeight()},250);App.win.resize(e),i.indexCoverSliderInit()}},scrollBody:function(){void 0!==$.fn.niceScroll?$("html").niceScroll({cursorcolor:"#392619",cursorwidth:"5px",cursoropacitymax:.8,cursorborder:"1px solid rgba(255, 255, 255, 0.5)",railpadding:{right:3},zindex:4}):console.info("required nicescroll(.min).js (для прокрутки)")},scrollHeader:function(){i.checkScroll(o),$(window).on("scroll",function(){o=$(this).scrollTop(),i.checkScroll(o)})},checkScroll:function(e){0<e?$("body").removeClass("scroll-top"):$("body").addClass("scroll-top")},indexCoverScroll:function(){App.doc.on("click",i.el.index_cover_scroll_selector,function(){return $("html, body").animate({scrollTop:$(i.el.index_cover_selector).height()-$(".header").height()},1e3),!1})},indexCoverHeight:function(){$(i.el.index_cover_selector).height($(window).height())},indexCoverSliderInit:function(){$(i.el.index_cover_slider_selector).slick({infinite:!0,speed:600,slidesToShow:1,dots:!0,autoplay:!0,autoplaySpeed:7e3,fade:!0,cssEase:"linear",adaptiveHeight:!1})}},new e},App.HeaderMenuMobile=function(){function e(){this.render()}var r;e.prototype={el:{sidr_selector:".sidr",h_menu_selector:".header__menu",mobile_btn_selector:".mobile-mainmenu-btn",sidr_class:"sidr-mobile-mainmenu"},render:function(){if(r=this,!$(r.el.mobile_btn_selector).length)return!1;r.sidrInit(),r.sidrSwipe(),r.sidrResize()},sidrInit:function(){void 0!==$.fn.sidr?$(r.el.mobile_btn_selector).sidr({name:r.el.sidr_class,source:r.el.h_menu_selector,side:"right"}):console.info("required jquery.sidr(.min).js (для мобильного меню)")},sidrClose:function(){$.sidr("close",r.el.sidr_class)},sidrSwipe:function(){void 0!==$.fn.swipe&&$(r.el.sidr_selector).swipe({excludedElements:"button, input, select, textarea, .noSwipe",swipeRight:function(e,i,o,n,t){r.sidr_close()}})},sidrResize:function(){var e=debounce(function(){App.win.width()>App.max_mobile_width&&r.sidrClose()},250);App.win.resize(e)}},new e},App.Forms=function(){function e(){this.render()}var i;e.prototype={el:{datepicker_selector:".js-datepicker",datepicker_notime_selector:".js-datepicker-notime",phone_mask_selector:".js-phone-mask",application_form_selector:".application_form"},render:function(){(i=this).datepickerInit(),i.phoneMaskInit(),i.applicationForm()},datepickerInit:function(){if(void 0!==$.fn.pikaday){var e={previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]};"ru"==$("html").attr("lang")?($(i.el.datepicker_selector).pikaday({firstDay:1,minDate:new Date,format:"DD.MM.YYYY HH:mm",use24hour:!0,showSeconds:!1,i18n:e}),$(i.el.datepicker_notime_selector).pikaday({firstDay:1,minDate:new Date,format:"DD.MM.YYYY",showTime:!1,i18n:e})):($(i.el.datepicker_selector).pikaday({firstDay:1,minDate:new Date,use24hour:!0,showSeconds:!1}),$(i.el.datepicker_notime_selector).pikaday({firstDay:1,minDate:new Date,showTime:!1}))}else console.info("required pikaday.js (для выбора даты)")},phoneMaskInit:function(){void 0!==$.fn.mask?$(i.el.phone_mask_selector).mask("0 (000) 000-00-00"):console.info("required jquery.mask.min.js")},applicationForm:function(){$(document).on("submit",i.el.application_form_selector,function(e){e.preventDefault();var i=$(e.target),o=new FormData(e.target);i.find(".btn-text").text("Отправка..."),i.find(".btn-icon-loading").removeClass("hidden"),$.ajax({type:"POST",url:"/application.php",data:o,processData:!1,contentType:!1,success:function(e){(e=JSON.parse(e)).success},error:function(){}})})}},new e},$(document).ready(function(){App.Sliders(),App.Scrolling(),App.HeaderMenuMobile(),App.Forms()});