var App={win:$(window),doc:$(document),is_mobile:detectmob(),ms_ie:/(MSIE|Trident\/|Edge\/)/i.test(navigator.userAgent),max_mobile_width:992};function detectmob(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function debounce(r,t,n){var i;return function(){var e=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||r.apply(e,o)},t),s&&r.apply(e,o)}}function fileBoxesInit(e){Array.prototype.forEach.call(e,function(e){var s=e.parentNode,r=s.innerHTML;e.addEventListener("change",function(e){var o="";(o=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?s.querySelector("span").innerHTML=o:s.innerHTML=r}),e.addEventListener("focus",function(){e.classList.add("has-focus")}),e.addEventListener("blur",function(){e.classList.remove("has-focus")})})}function check_scroll(){0==$(window).scrollTop()?$("body").addClass("scrollTop"):$(window).scrollTop()+$(window).height()==$(document).height()?$("body").addClass("scrollBottom"):$("body").removeClass("scrollTop scrollBottom")}App.Other=function(){App.is_mobile&&$("html").addClass("is_mobile"),check_scroll(),$(document).scroll(function(){check_scroll()});var e=0;$(".default-table tbody tr").each(function(){e=$(this).children("td").length,$(this).after('<tr class="tr-space"><td colspan="'+e+'"></td></tr>')})},App.Covers=function(){function e(){$(".cover-big").css("min-height",$(window).height())}if($(".cover-big").length){e();var o=debounce(function(){e()},250);App.win.resize(o)}function s(){$(".content .cover").width($(window).outerWidth()),$(".content .cover").css("marginLeft",-($(window).width()-$(".main-container").width())/2)}if(App.doc.on("click",".arrow-link-index",function(){var e=parseInt($(".content-container").css("padding-top"));return $([document.documentElement,document.body]).animate({scrollTop:$(".content").offset().top-$(".header").height()-e},1e3),!1}),$(".content .cover").length){s();var r=debounce(function(){s()},250);App.win.resize(r)}},App.Sidebar=function(){function e(){this.render()}var n;e.prototype={el:{sidebar_selector:".sidebar",sidebar_open_btn_selector:".mainmenu-btn",sidebar_close_btn_selector:".sidebar-close",menu_group_selector:".sidebar-menu-group",menu_heading_selector:".s-menu-heading",sidebar_open_class:"sidebar-open",group_open_class:"group-open"},render:function(){(n=this).sidebarInit(),n.sidebarSwipe(),n.sidebarClose(),n.sidebarMenu()},sidebarInit:function(){App.doc.on("click",n.el.sidebar_open_btn_selector,function(){return $("body").hasClass(n.el.sidebar_open_class)?n.sidebarClose():n.sidebarOpen(),!1}),App.doc.on("click",n.el.sidebar_close_btn_selector,function(){return n.sidebarClose(),!1}),$(".sidebar").niceScroll({cursorcolor:"#854DFF",cursorborder:"none",cursorwidth:"8px",cursorborderradius:"0",autohidemode:!0,hidecursordelay:1e3,zindex:10})},sidebarClose:function(){$("body").removeClass(n.el.sidebar_open_class)},sidebarOpen:function(){$("body").addClass(n.el.sidebar_open_class)},sidebarSwipe:function(){void 0!==$.fn.swipe&&$(n.el.sidebar_selector).swipe({excludedElements:"button, input, select, textarea, .noSwipe",swipeRight:function(e,o,s,r,t){n.sidebarClose()}})},sidebarMenu:function(){App.doc.on("click",n.el.menu_heading_selector,function(){return $(this).parent(n.el.menu_group_selector).hasClass(n.el.group_open_class)?$(this).parent(n.el.menu_group_selector).removeClass(n.el.group_open_class):$(this).parent(n.el.menu_group_selector).addClass(n.el.group_open_class),setTimeout('$(".sidebar").getNiceScroll().resize();',500),!1})}},new e},App.SideForm=function(){function e(){this.render()}var n;e.prototype={el:{sideform_selector:".side-form",sideform_open_btn_selector:".side-form-switch",sideform_close_btn_selector:".side-form-close",sideform_open_class:"side-form-open",application_form_selector:".side-form form",form_response_selector:".side-form .form-response",form_submit_selector:".side-form :submit",form_status_selector:".side-form .submit-status"},render:function(){(n=this).sideformInit(),n.sideformSwipe(),n.sideformClose(),n.applicationForm()},sideformInit:function(){App.doc.on("click",n.el.sideform_open_btn_selector,function(){return $("body").hasClass(n.el.sideform_open_class)?n.sideformClose():n.sideformOpen(),!1}),App.doc.on("click",n.el.sideform_close_btn_selector,function(){return n.sideformClose(),!1}),$(".side-form__body").niceScroll({cursorcolor:"#854DFF",cursorborder:"none",cursorwidth:"8px",cursorborderradius:"0",autohidemode:!0,hidecursordelay:1e3,zindex:10})},sideformClose:function(){$("body").removeClass(n.el.sideform_open_class)},sideformOpen:function(){$("body").addClass(n.el.sideform_open_class)},sideformSwipe:function(){void 0!==$.fn.swipe?$(n.el.sideform_selector).swipe({excludedElements:"button, input, select, textarea, .noSwipe",swipeRight:function(e,o,s,r,t){n.sideformClose()}}):console.log("jquery.touchSwipe.min.js is required")},applicationForm:function(){$(n.el.application_form_selector).submit(function(e){$(n.el.form_response_selector).removeClass("color-green color-red").html("").hide(),e.preventDefault()}),$(n.el.application_form_selector).validate({rules:{form_text_4:{required:!0,maxlength:50},form_text_2:{required:!0,email:!0},form_textarea_3:{required:!0,maxlength:1e3}},messages:{form_text_4:{required:"Please introduce yourself",maxlength:"Maximum of 50 characters"},form_text_2:{required:"Enter your email address",email:"Enter the correct address"},form_textarea_3:{required:"Enter your message",maxlength:"Maximum of 1000 characters"}},focusInvalid:!1,submitHandler:function(o){$(n.el.form_submit_selector).prop("disabled",!0),$(n.el.form_status_selector).text("Sending..."),$.ajax({url:"/side-form-content.php",type:"POST",dataType:"json",cache:!1,data:$(o).serialize(),success:function(e){console.log(e),console.log(typeof e.success),1==e.success?$(n.el.form_response_selector).html("Thanks! We will contact you.").addClass("color-green"):($(n.el.form_response_selector).html("Error sending email.").addClass("color-red"),console.log(e.ErrorInfo))},error:function(e){console.log(e),e.hasOwnProperty("responseJSON")?($(o).find(n.el.form_response_selector).html(e.responseJSON.message).addClass("color-red"),console.log("error: "+e.responseJSON.message)):($(o).find(n.el.form_response_selector).html("Ошибка status "+e.status+", statusText "+e.statusText).addClass("color-red"),console.log("data.responseText"),console.log(e.responseText))},complete:function(){$(n.el.form_response_selector).show(),$(n.el.form_submit_selector).prop("disabled",!1),$(n.el.form_status_selector).text("")}})}})}},new e},App.ResponsiveTables=function(){void 0!==$.fn.stacktable?($(".stack-table:not(.stacktable)").stacktable(),$(".card-table:not(.stacktable)").cardtable()):console.log("stacktable.js is required")},App.Accordeons=function(){window.location.hash&&$(".accordion-switch").length&&($('.accordion-switch[data-href="'+window.location.hash+'"]').addClass("switch-on"),$(window.location.hash).addClass("accordion-opened"),$([document.documentElement,document.body]).animate({scrollTop:$(window.location.hash).offset().top-150},500)),App.doc.on("click",".accordion-switch",function(){var e=$(this).attr("href");return $(this).hasClass("switch-on")?($(this).removeClass("switch-on"),$(e).removeClass("accordion-opened")):($(this).addClass("switch-on"),$(e).addClass("accordion-opened")),!1})},$(document).ready(function(){App.Other(),App.Covers(),App.Sidebar(),App.SideForm(),App.ResponsiveTables(),App.Accordeons()});